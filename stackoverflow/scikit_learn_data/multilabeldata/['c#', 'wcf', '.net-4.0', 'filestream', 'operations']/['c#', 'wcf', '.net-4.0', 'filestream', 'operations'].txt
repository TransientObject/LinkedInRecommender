What is the most efficient way to perform two operations on a non-seekable stream?
