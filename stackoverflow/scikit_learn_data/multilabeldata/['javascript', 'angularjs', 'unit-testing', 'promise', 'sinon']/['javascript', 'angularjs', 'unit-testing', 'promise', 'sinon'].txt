Testing an AngularJS Controller method that returns a promise using Jasmine and Sinon
