Ruby Logic and Syntax Giving Unexpected Result
