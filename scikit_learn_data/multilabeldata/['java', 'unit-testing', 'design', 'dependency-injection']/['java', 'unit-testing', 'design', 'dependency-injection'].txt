Preferable way of making code testable: Dependency injection vs encapsulation
