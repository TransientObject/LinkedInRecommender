Possibly non-conformant code generation when dealing with array accesses
